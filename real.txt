MACHINE TEST(type t)

ATTRIBUTES
	type T_UBYTE, T_UWORD, T_VMK_ReturnCode;
	T_VMK_ReturnCode VMK_OK, VMD_INVALID_ADDRESS, VMK_INVALID_NAME;


OPERATIONS
T_VMK_ReturnCode vmkSyscallGetVMID(
	T_UBYTE *name,
	T_UWORD *vmID
){
if(~checkValidAddress(vmID)){
	return VMD_INVALID_ADDRESS;
}
if(*name==NULL){
	*vmID=curVM.<ID>;
	return VMK_OK;
}
if(~checkValidAddress(name)){
	return VMD_INVALID_ADDRESS;
}
vm.<NAME:*name>:appVM;
if(vm==NULL){
	return VMK_INVALID_NAME;
}
*vmID=vm.<ID>;
return VMK_OK;
}
END